<!DOCTYPE html>  <html> <head>   <title>racked.sh</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               racked.sh             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>                            </td>             <td class="code">               <div class="highlight"><pre><span class="c">#!/bin/sh</span></pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <p>Racked is a very simple (10 lines) backdoor written in shell.</p>

<p>Its intent is only <strong>to track your stolen computer</strong>. If you are evil and you
want to secretly stalk someone, or control someone's computer, please look
somewhere else, there are plenty of better scripts that will help you much
more. This is not the right tool for you.</p>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-3">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-3">&#182;</a>               </div>               <p>This script does only one thing - it checks a <em><strong>URL</strong></em> in defined
<em><strong>intervals</strong></em>, and if it finds the <em><strong>trigger</strong></em> at the beggining of the
page, it just runs it <strong>as a script</strong>. So the only thing that you do to
protect your computer, is choosing a URL and making the script run on every
boot.</p>

<p>So the script <strong>does not do the actual tracking</strong>, it only ensures that you
will have some kind of access to it. It's like SSH, but it's so much simplier
and unlike many antithief solutions, it's also free.</p>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-4">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-4">&#182;</a>               </div>               <h2>Hosting</h2>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-5">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-5">&#182;</a>               </div>               <p>You only need <strong>one URL</strong> that you have access to. You can use your website,
an FTP, or if you want something geeky and free, use a pastebin! :)</p>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-6">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-6">&#182;</a>               </div>               <h3>Gist</h3>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-7">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-7">&#182;</a>               </div>               <p><a href="http://gist.github.com">Gist</a> is a perfect tool for our purpose! It's free,
easy to modify, and it's backed by a Git repo.</p>

<p>All you have to do is to create a private repository. Then get your gist id
and insert it into the following URL...</p>

<p><strong>https://raw.github.com/gist/abc123abc123abc12345</strong></p>

<p>... and test if it works, it should work...</p>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-8">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-8">&#182;</a>               </div>               <h2>Configuration</h2>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-9">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-9">&#182;</a>               </div>               <p><strong>URL</strong></p>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-10">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-10">&#182;</a>               </div>               <p>Please choose this URL wisely - this line is a real <strong>backdoor to your
computer</strong>, right? It's really like a key to your files. You should be the
only one knowing it and with access to change it.</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nv">URL</span><span class="o">=</span><span class="s2">&quot;yourwebsite.com/yoursecretscriptfile&quot;</span></pre></div>             </td>           </tr>                               <tr id="section-11">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-11">&#182;</a>               </div>               <p><strong>Trigger</strong></p>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-12">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-12">&#182;</a>               </div>               <p>The default trigger is a <a href="http://en.wikipedia.org/wiki/Shebang_(Unix)">hashbang</a>
as executable scripts usually start with it.</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nv">TRIGGER</span><span class="o">=</span><span class="s2">&quot;#!&quot;</span></pre></div>             </td>           </tr>                               <tr id="section-13">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-13">&#182;</a>               </div>               <p><strong>Delay</strong></p>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-14">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-14">&#182;</a>               </div>               <p>You usually want something like 15 or 30 minutes. You'll have to convert it,
however - it's in seconds.</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nv">DELAY</span><span class="o">=</span>5</pre></div>             </td>           </tr>                               <tr id="section-15">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-15">&#182;</a>               </div>               <h2>Installation</h2>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-16">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-16">&#182;</a>               </div>               <h3>Requirements</h3>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-17">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-17">&#182;</a>               </div>               <p>You only need <a href="http://curl.haxx.se/">curl</a>. On Mac OS X, it's already
installed. Most Linux distributions have it in their package systems, if not
installed too.</p>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-18">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-18">&#182;</a>               </div>               <h3>Installation on Mac (launchd)</h3>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-19">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-19">&#182;</a>               </div>               <ul>
<li>Save this script as <strong>/opt/racked.sh</strong></li>
<li>Save the following XML as:
<strong>/Library/LaunchDaemons/racked.plist</strong></li>
</ul>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-20">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-20">&#182;</a>               </div>               <pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN"
    "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt;
&lt;plist version="1.0"&gt;
&lt;dict&gt;
    &lt;key&gt;Label&lt;/key&gt;&lt;string&gt;racked&lt;/string&gt;
    &lt;key&gt;KeepAlive&lt;/key&gt;&lt;true/&gt;
    &lt;key&gt;RunAtLoad&lt;/key&gt;&lt;true/&gt;
    &lt;key&gt;ProgramArguments&lt;/key&gt;
    &lt;array&gt;
        &lt;string&gt;/opt/racked.sh&lt;/string&gt;
    &lt;/array&gt;
&lt;/dict&gt;
&lt;/plist&gt;
</code></pre>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-21">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-21">&#182;</a>               </div>               <h2>Caveeats</h2>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-22">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-22">&#182;</a>               </div>               <p><strong>launchd won't start the script</strong></p>

<p><em>Check the rights of the plist. Plist requires that the owner of plist is
<strong>root</strong>, that might be the problem if you've just copied the file using
Finder.</em></p>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-23">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-23">&#182;</a>               </div>               <p><strong>Strange things happen - my wallpaper is changing all the time, I hear
strange voices, and the webcam is flashing every minute....</strong></p>

<p><em>Either you use a stolen laptop, or someone's got the access to your URL. I
told you it's a backdoor!</em></p>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-24">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-24">&#182;</a>               </div>               <h3>Code</h3>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-25">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-25">&#182;</a>               </div>               <p>Now there is the magic... Dumb, short, yet powerful, see?</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="k">while</span> <span class="o">[</span> <span class="nb">true</span> <span class="o">]</span>; <span class="k">do</span>
<span class="k">	</span><span class="nv">page</span><span class="o">=</span><span class="k">$(</span>curl <span class="s2">&quot;$URL&quot;</span> 2&gt;/dev/null<span class="k">)</span>
	<span class="k">if</span> <span class="o">[</span> <span class="nv">$?</span> -eq 0 <span class="o">]</span> <span class="o">&amp;&amp;</span> <span class="o">[[</span> <span class="nv">$page</span> <span class="o">==</span> <span class="nv">$TRIGGER</span>* <span class="o">]]</span>; <span class="k">then</span>
<span class="k">		</span><span class="nb">echo</span> <span class="s2">&quot;$page&quot;</span> | sh
	<span class="k">fi</span>
<span class="k">	</span>sleep <span class="nv">$DELAY</span>
<span class="k">done</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> 